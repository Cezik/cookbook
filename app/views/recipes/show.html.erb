<% provide(:title, @recipe.title) %>
<div class="row">
  <div class="col-md-9 col-sm-offset-1">
    <h1><%= @recipe.title %></h1>
    <hr/>

    <p>
      <span class="badge">
        <%= link_to vote_food_category_recipe_path(@recipe.food_category_id, @recipe), method: :post do %>
          Like
          <span class="glyphicon glyphicon-arrow-up"></span>
          <%= @recipe.get_upvotes.size %>
        <% end %>
      </span>
      <span class="badge">
      <%= link_to vote_food_category_recipe_path(@recipe.food_category_id, @recipe.id), method: :delete do %>
        Hate
        <span class="glyphicon glyphicon-arrow-down"></span>
        <%= @recipe.get_downvotes.size %>
      </span>
      <% end %>
    </p>

    <%= t('activerecord.attributes.recipe.difficult') + ' ' %>
    <% @recipe.difficult.times do %>
      <span class="glyphicon glyphicon-star"></span>
    <% end %>
    <% @recipe.blank_stars.times do %>
      <span class="glyphicon glyphicon-star-empty"></span>
    <% end %>

    <p><%= @recipe.recipe_text %></p>
    <%= image_tag @recipe.image.url, alt: "#{@recipe.title}", size: '500x500' %>
    <p><%= @recipe.user.email if @recipe.user %></p>

    <div class="btn-group">
      <%= link_to t('main.back'), food_category_path(@recipe.food_category_id), class: "btn btn-sm btn-primary" %>
      <% if can?(:update, @recipe) %>
        <%= link_to t('main.edit'), edit_food_category_recipe_path(@recipe.food_category_id, @recipe.id), class: "btn btn-sm btn-primary" %>
      <% end %>
      <% if can?(:destroy, @recipe) %>
        <%= link_to t('main.delete'), food_category_recipe_path(@recipe.food_category_id, @recipe.id), method: :delete, data: {confirm: t('recipe.delete_confirm')}, class: "btn btn-sm btn-primary" %>
      <% end %>
    </div>
  </div>
</div>
